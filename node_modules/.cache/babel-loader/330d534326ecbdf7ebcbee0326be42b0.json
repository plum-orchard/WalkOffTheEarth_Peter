{"ast":null,"code":"import _objectSpread from \"/Users/kmacaraeg/Documents/Projects/Walk off the Earth/walk-off-the-earth/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { useLayoutEffect } from 'react';\nimport draw from '../helpers/draw';\n\nconst useDraw = ({\n  brushRef,\n  fps,\n  move\n}) => {\n  const intervalTime = 1000 / fps;\n  useLayoutEffect(() => {\n    if (!move.point) return;\n    brushRef.current(move.point.x, move.point.y);\n\n    const last = _objectSpread({}, move.point);\n\n    const timer = setInterval(() => {\n      const position = move.positionRef.current;\n      if (!position) return;\n      draw({\n        brush: brushRef.current,\n        x1: last.x,\n        y1: last.y,\n        x2: position.x,\n        y2: position.y\n      });\n      last.x = position.x;\n      last.y = position.y;\n    }, intervalTime);\n    return () => clearInterval(timer);\n  }, [intervalTime, move.point]);\n};\n\nexport default useDraw;","map":{"version":3,"sources":["/Users/kmacaraeg/Documents/Projects/Walk off the Earth/walk-off-the-earth/src/components/Drawing/hooks/useDraw.js"],"names":["useLayoutEffect","draw","useDraw","brushRef","fps","move","intervalTime","point","current","x","y","last","timer","setInterval","position","positionRef","brush","x1","y1","x2","y2","clearInterval"],"mappings":";AAAA,SAASA,eAAT,QAAgC,OAAhC;AAEA,OAAOC,IAAP,MAAiB,iBAAjB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,GAAZ;AAAiBC,EAAAA;AAAjB,CAAD,KAA6B;AAC3C,QAAMC,YAAY,GAAG,OAAOF,GAA5B;AAEAJ,EAAAA,eAAe,CAAC,MAAM;AACpB,QAAI,CAACK,IAAI,CAACE,KAAV,EAAiB;AACjBJ,IAAAA,QAAQ,CAACK,OAAT,CAAiBH,IAAI,CAACE,KAAL,CAAWE,CAA5B,EAA+BJ,IAAI,CAACE,KAAL,CAAWG,CAA1C;;AAEA,UAAMC,IAAI,qBAAQN,IAAI,CAACE,KAAb,CAAV;;AAEA,UAAMK,KAAK,GAAGC,WAAW,CAAC,MAAM;AAC9B,YAAMC,QAAQ,GAAGT,IAAI,CAACU,WAAL,CAAiBP,OAAlC;AACA,UAAI,CAACM,QAAL,EAAe;AAEfb,MAAAA,IAAI,CAAC;AAAEe,QAAAA,KAAK,EAAEb,QAAQ,CAACK,OAAlB;AAA2BS,QAAAA,EAAE,EAAEN,IAAI,CAACF,CAApC;AAAuCS,QAAAA,EAAE,EAAEP,IAAI,CAACD,CAAhD;AAAmDS,QAAAA,EAAE,EAAEL,QAAQ,CAACL,CAAhE;AAAmEW,QAAAA,EAAE,EAAEN,QAAQ,CAACJ;AAAhF,OAAD,CAAJ;AAEAC,MAAAA,IAAI,CAACF,CAAL,GAASK,QAAQ,CAACL,CAAlB;AACAE,MAAAA,IAAI,CAACD,CAAL,GAASI,QAAQ,CAACJ,CAAlB;AACD,KARwB,EAQtBJ,YARsB,CAAzB;AAUA,WAAO,MAAMe,aAAa,CAACT,KAAD,CAA1B;AACD,GAjBc,EAiBZ,CAACN,YAAD,EAAeD,IAAI,CAACE,KAApB,CAjBY,CAAf;AAkBD,CArBD;;AAuBA,eAAeL,OAAf","sourcesContent":["import { useLayoutEffect } from 'react'\n\nimport draw from '../helpers/draw'\n\nconst useDraw = ({ brushRef, fps, move }) => {\n  const intervalTime = 1000 / fps\n\n  useLayoutEffect(() => {\n    if (!move.point) return\n    brushRef.current(move.point.x, move.point.y)\n\n    const last = { ...move.point }\n    \n    const timer = setInterval(() => {\n      const position = move.positionRef.current\n      if (!position) return\n      \n      draw({ brush: brushRef.current, x1: last.x, y1: last.y, x2: position.x, y2: position.y })\n\n      last.x = position.x\n      last.y = position.y\n    }, intervalTime)\n\n    return () => clearInterval(timer)\n  }, [intervalTime, move.point])\n}\n\nexport default useDraw\n"]},"metadata":{},"sourceType":"module"}