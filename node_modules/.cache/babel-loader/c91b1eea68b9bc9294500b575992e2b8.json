{"ast":null,"code":"import { useLayoutEffect } from 'react';\n\nconst useApi = ({\n  apiRef,\n  brushRef,\n  canvasRef\n}) => {\n  useLayoutEffect(() => {\n    if (!apiRef) return;\n    const api = {\n      brush: (x, y) => {\n        if (brushRef.current) brushRef.current(x, y);\n      },\n      getCanvas: () => canvasRef.current,\n      getContext: () => canvasRef.current.getContext('2d'),\n      toDataURL: () => canvasRef.current.toDataURL()\n    };\n    if ('current' in apiRef) apiRef.current = api;else apiRef(api);\n  }, [apiRef]);\n};\n\nexport default useApi;","map":{"version":3,"sources":["/Users/kmacaraeg/Documents/Projects/Walk off the Earth/walk-off-the-earth/src/components/Drawing/hooks/useApi.js"],"names":["useLayoutEffect","useApi","apiRef","brushRef","canvasRef","api","brush","x","y","current","getCanvas","getContext","toDataURL"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAAD,KAAqC;AAClDJ,EAAAA,eAAe,CAAC,MAAM;AACpB,QAAI,CAACE,MAAL,EAAa;AAEb,UAAMG,GAAG,GAAG;AACVC,MAAAA,KAAK,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACf,YAAIL,QAAQ,CAACM,OAAb,EAAsBN,QAAQ,CAACM,OAAT,CAAiBF,CAAjB,EAAoBC,CAApB;AACvB,OAHS;AAIVE,MAAAA,SAAS,EAAE,MAAMN,SAAS,CAACK,OAJjB;AAKVE,MAAAA,UAAU,EAAE,MAAMP,SAAS,CAACK,OAAV,CAAkBE,UAAlB,CAA6B,IAA7B,CALR;AAMVC,MAAAA,SAAS,EAAE,MAAMR,SAAS,CAACK,OAAV,CAAkBG,SAAlB;AANP,KAAZ;AASA,QAAI,aAAaV,MAAjB,EAAyBA,MAAM,CAACO,OAAP,GAAiBJ,GAAjB,CAAzB,KACKH,MAAM,CAACG,GAAD,CAAN;AACN,GAdc,EAcZ,CAACH,MAAD,CAdY,CAAf;AAeD,CAhBD;;AAkBA,eAAeD,MAAf","sourcesContent":["import { useLayoutEffect } from 'react'\n\nconst useApi = ({ apiRef, brushRef, canvasRef }) => {\n  useLayoutEffect(() => {\n    if (!apiRef) return\n\n    const api = {\n      brush: (x, y) => {\n        if (brushRef.current) brushRef.current(x, y)\n      },\n      getCanvas: () => canvasRef.current,\n      getContext: () => canvasRef.current.getContext('2d'),\n      toDataURL: () => canvasRef.current.toDataURL(),\n    }\n\n    if ('current' in apiRef) apiRef.current = api\n    else apiRef(api)\n  }, [apiRef])\n}\n\nexport default useApi\n"]},"metadata":{},"sourceType":"module"}